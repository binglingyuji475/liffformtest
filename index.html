<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>咨询页面</title>
  <!-- 引入Bootstrap和TinyMCE的CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tinymce@5.9.2/css/tinymce.min.css">
</head>
<body>
  <div class="container mt-5">
    <h1 class="text-center mb-5">咨询页面</h1>
    <!-- 姓名输入框 -->
    <div class="form-group">
      <label for="name">姓名：</label>
      <input type="text" class="form-control" id="name" name="name" required>
    </div>
    <!-- 电话号码输入框 -->
    <div class="form-group">
      <label for="phone">电话号码：</label>
      <input type="tel" class="form-control" id="phone" name="phone" required>
    </div>
    <!-- 咨询内容输入框 -->
    <div class="form-group">
      <label for="content">咨询内容：</label>
      <textarea id="content" name="content"></textarea>
    </div>
    <!-- 提交按钮 -->
    <button class="btn btn-primary btn-block">提交</button>
  </div>




　　<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://yubinbango.github.io/yubinbango/yubinbango.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/validator.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/image-upload-private.js"></script>
<script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/liff.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/btn-control.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/build-full-name.js"></script>

                  









    <script>
        
        $(document).ready(function () {
            const liffId = "1660782608-xn7Qk6MO";
            initializeLiff(liffId);
        })

        function initializeLiff(liffId) {
            liff.init({
                liffId: liffId
            }).then(() => {
                initializeApp();
            }).catch((err) => {
                console.log('LIFF Initialization failed ', err);
            });
        }

        function sendText(text) {
            liff.sendMessages([{
                'type': 'text',
                'text': text
            }]).then(function () {
                liff.closeWindow();
            }).catch(function (error) {
                window.alert('Failed to send message ' + error);
            });
        }
        
        const params = (new URL(document.location)).searchParams;
        const key = params.get('key');

        $(function () {
            $('form').submit(function () {
                const title  = '[お問い合わせ内容]';
                const name = $('input[name="name"]').val();
                const tel = $('input[name="tel"]').val();
                const email  = $('input[name="email"]').val();
                const text  = $('input[name="text"]').val();
                const memo  = '★以上のお問い合わせを受け付けました。内容を確認の上、担当者よりご連絡いたします。★';
                
                
                const msg = `${title}\n■お名前:\n${name}\n■電話番号:\n${tel}\n■メールアドレス:\n${email}\n■問い合わせ内容:\n${text}\n\n${memo}`;
                sendText(msg);

                return false;
            });
        });

    </script>

</body>
</html>
