<!doctype html>
<html lang="ja">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>

    <div class="card">
      <div class="card-title bg-dark text-light mt-5"><h3>お問い合わせ</h3></div>
        <div class="card-body">
            <form>
                <div class="row">
                    <div class="col-4">
                        <div class="form-group">
                            <label for="formGroupExampleInput">お名前</label>
                            <input type="text" name="name" class="form-control" id="formGroupExampleInput" placeholder="山田"
                                required>
                        </div>

             

                </div>

                <div class="row">
                    <div class="col-8">
                        <div class="form-group">
                            <label for="formGroupExampleInput">E-mail</label>
                            <input type="text" class="form-control" id="formGroupExampleInput"
                                placeholder="yamada@sample.com" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <div class="form-group">
                            <label for="formGroupExampleInput">お問い合わせ内容</label>
                            <textarea type="text" class="form-control" id="formGroupExampleInput"
                                placeholder="お問い合わせ内容を入力してください" required></textarea>
                        </div>
                    </div>
                </div>


                <button type="submit" class="btn btn-outline-dark float-right w-25">送信</button>
        </div>

    </div>
    </div>
    </form>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

　　<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://yubinbango.github.io/yubinbango/yubinbango.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/validator.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/image-upload-private.js"></script>
<script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/liff.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/btn-control.js"></script>
<script src="https://geppy-liff.s3-ap-northeast-1.amazonaws.com/lambda-assets/js/components/build-full-name.js"></script>

                  

    <script>
        
        $(document).ready(function () {
            const liffId = "1660782608-xn7Qk6MO";
            initializeLiff(liffId);
        })

        function initializeLiff(liffId) {
            liff.init({
                liffId: liffId
            }).then(() => {
                initializeApp();
            }).catch((err) => {
                console.log('LIFF Initialization failed ', err);
            });
        }

        function sendText(text) {
            liff.sendMessages([{
                'type': 'text',
                'text': text
            }]).then(function () {
                liff.closeWindow();
            }).catch(function (error) {
                window.alert('Failed to send message ' + error);
            });
        }
        
        const params = (new URL(document.location)).searchParams;
        const key = params.get('key');

        $(function () {
            $('form').submit(function () {
                const title  = '[お問い合わせ内容]';
                const name = $('input[name="name"]').val();
                const tel = $('input[name="tel"]').val();
                const email  = $('input[name="email"]').val();
                const text  = $('input[name="text"]').val();
                const memo  = '★以上のお問い合わせを受け付けました。内容を確認の上、担当者よりご連絡いたします。★';
                
                
                const msg = `${title}\n■お名前:\n${name}\n■電話番号:\n${tel}\n■メールアドレス:\n${email}\n■問い合わせ内容:\n${text}\n\n${memo}`;
                sendText(msg);

                return false;
            });
        });

    </script>

</body>
</html>
